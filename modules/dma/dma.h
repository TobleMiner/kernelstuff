#ifndef _DMA_H_
#define _DMA_H_

#define BCM2835_PERIPHERAL_BUS_BASE	0x7E000000
#define BCM2835_PERIPHERAL_BASE		0x3F000000
#define BCM2835_GPIO_OFFSET			0x00200000
#define BCM2835_GPIO_SET_OFFSET		0x1C
#define BCM2835_GPIO_CLR_OFFSET		0x28
#define BCM2835_REGISTER_BLOCK_SIZE	4096

// chain 0
#define ADAMTX_GPIO_C0_R1	11
#define ADAMTX_GPIO_C0_R2	8
#define ADAMTX_GPIO_C0_G1	27
#define ADAMTX_GPIO_C0_G2	9
#define ADAMTX_GPIO_C0_B1	7
#define ADAMTX_GPIO_C0_B2	10

// chain 1
#define ADAMTX_GPIO_C1_R1	12
#define ADAMTX_GPIO_C1_R2	19
#define ADAMTX_GPIO_C1_G1	5
#define ADAMTX_GPIO_C1_G2	13
#define ADAMTX_GPIO_C1_B1	6
#define ADAMTX_GPIO_C1_B2	20

// chain 2
#define ADAMTX_GPIO_C2_R1	14
#define ADAMTX_GPIO_C2_R2	26
#define ADAMTX_GPIO_C2_G1	2
#define ADAMTX_GPIO_C2_G2	16
#define ADAMTX_GPIO_C2_B1	3
#define ADAMTX_GPIO_C2_B2	21

// address lines
#define ADAMTX_GPIO_A	22
#define ADAMTX_GPIO_B	23
#define ADAMTX_GPIO_C	24
#define ADAMTX_GPIO_D	25
#define ADAMTX_GPIO_E	15

// misc
#define ADAMTX_GPIO_OE	18
#define ADAMTX_GPIO_STR	4
#define ADAMTX_GPIO_CLK	17


#define ADAMTX_GPIO_OFFSET_ADDRESS 22

#define ADAMTX_GPIO_MASK_CLOCK		(1 << ADAMTX_GPIO_CLK)
#define ADAMTX_GPIO_MASK_ADDRESS	0b0011110000001000000000000000
#define ADAMTX_GPIO_MASK_ADDRESS_HI	0b0011110000000000000000000000
#define ADAMTX_GPIO_MASK_DATA		0b1000000000000000111110000000


struct dma_block {
	uint32_t set;
	uint32_t set1;
	uint32_t reserved;
	uint32_t clear;
};

#endif
